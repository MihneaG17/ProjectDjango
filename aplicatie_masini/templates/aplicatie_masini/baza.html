{% load static %}

<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="utf-8">
    <title>{% block title %} Magazin de masini {% endblock %}</title>
    <link rel="icon" type="image/x-icon" href="{% static 'aplicatie_masini/imagini/logo_site.png'%}">
    <link rel="stylesheet" href="{% static 'aplicatie_masini/css/style.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
   <header>
        <div class="topbar">
            <h1 class="logo"> <a href="{% url 'index' %}"> <img src="{% static 'aplicatie_masini/imagini/logo_site.png' %}" alt="Logo" class="logo-img"></a></h1>
            <div class="hamburger-menu" id="hamburger-icon">
                <i class="fa-solid fa-bars"></i>
            </div>
            <nav class="menu">
                <ul class="menu-list" id="nav-menu">
                    <li> <a href="{% url 'index' %}">Acasa</a>
                        <ul class="submenu">
                            <li> <a href="{% url 'index' %}#prezentare">Prezentare</a></li>
                            <li> <a href="{% url 'index' %}#servicii">Servicii</a></li>
                            <li> <a href="{% url 'index' %}#oferte">Oferte</a></li>
                            <li> <a href="{% url 'index' %}#testimoniale">Testimoniale clienti</a></li>
                        </ul>
                    </li>
                    <li> <a href="{% url 'produse' %}">Produse</a></li>
                    <li> <a href="{% url 'produse'%}">Categorii</a>
                        <ul class="submenu">
                            {% for cat in toate_categoriile %}
                            <li>
                                <a href="{% url 'produse_pe_categorie' cat.nume_categorie %}"> {{cat.nume_categorie}} </a>
                            </li>
                            {% endfor %}
                        </ul>
                    <li> <a href="{% url 'despre' %}">Despre</a>
                        <ul class="submenu">
                            <li><a href="{% url 'despre' %}#misiune">Misiune</a></li>
                            <li><a href="{% url 'despre' %}#statistici">Statistici</a></li>
                            <li><a href="{% url 'despre' %}#echipa">Echipa</a></li>
                        </ul>
                    </li>
                    <li> <a href="{% url 'contact'%}">Contact</a></li>
                    <li> <a href="{% url 'cos_virtual'%}">Cos</a></li>
                    {% if perms.aplicatie_masini.add_masina %}
                        <li> <a href="{% url 'adauga-produse' %}">Adaugă produse</a></li>
                    {% endif %}

                    {% if perms.aplicatie_masini.vizualizare_zona_admin %}
                        <li> <a href="{% url 'info' %}">Info</a></li>
                        <li> <a href="{% url 'log' %}">Log</a></li>
                    {% endif %}
                    <li>
                        <a href="#">
                            Cont {% if user.is_authenticated %}({{ user.username }}){% endif %}
                        </a>
                        <ul class="submenu">
                            {% if user.is_authenticated %}
                                <li><a href="{% url 'profil' %}">Profil</a></li>
                                <li><a href="{% url 'logout' %}">Logout</a></li>
                            {% else %}
                                <li><a href="{% url 'inregistrare' %}">Înregistrare</a></li>
                                <li><a href="{% url 'login' %}">Login</a></li>
                            {% endif %}
                        </ul>
                    </li>

                </ul>
            </nav>
        </div>
   </header>
   <main>
    {% block main %} {% endblock %}
   </main>
   <footer>
        <div class="footer-inner">
            <p>Magazin Masini - Dobrin Mihnea-Gabriel</p>
            <p>IP Client: {{ ip_client }}</p>
        </div>
   </footer>

   <script>
        const hamburger = document.getElementById('hamburger-icon');
        const navMenu = document.getElementById('nav-menu');

        hamburger.addEventListener('click', () => {
            navMenu.classList.toggle('active');
            
            const icon = hamburger.querySelector('i');
            if (navMenu.classList.contains('active')) {
                icon.classList.remove('fa-bars');
                icon.classList.add('fa-xmark');
            } else {
                icon.classList.remove('fa-xmark');
                icon.classList.add('fa-bars');
            }
        });
    </script>

</body>
</html>